pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
levels={
  {
    "0203030402040404000305001311100703030304040404140004000013120f03030303030303140b0004000003000003030303030307000418040d000900000309000006060600041804000404000003420400060504000419040e001300110300000006060516130e00040404000003040400000000000310030000030f0003420400040404040310030007040000030004400400000903100300001300110300040404000004031003000704000003000d00030000400305030000030f000305030309060606030303000004000003030d0b04040004031003000704001103030e0c040400000310030011110003000e000b04000a000f0f0300120f0f0f01",
    "Boot Camp",
    "This is the Laser Tank Boot Camp. It shows you a little of everything. The hardest thing is probably the mirror you need to move in the top right corner.",
    "Jim Kindley",
    1
  }
}

function _init()
  tank={}
  static_actors={}
  dynamic_actors={}
  load_level(levels[1])
end

function _draw()
  cls()
  for t in all({static_actors,dynamic_actors}) do
    for k,v in pairs(t) do
      mset(k[1],k[2],v)
    end
    map()
  end
end

function load_level(lvl)
  for s=1,512,2 do
    y=((s-1)%32)/2
    x=flr((s-1)/32)
    local obj=tonum("0x"..sub(lvl[1],s,s+1))+1
    if obj==2 then
      assert(tank.x==nil)
      tank.x,tank.y=x,y
    end
    if fget(obj,0) then
      assert(static_actors[{x,y}]==nil)
      dynamic_actors[{x,y}]=obj
      static_actors[{x,y}]=1
    else
      assert(dynamic_actors[{x,y}]==nil)
      static_actors[{x,y}]=obj
    end
  end
end
__gfx__
0000000044444444000bb000a4444444111cc11177777777eeeeeeee88588858000880000666666006666660066666600000000aa0000000eeeeee9aa988888e
000000004344434466c66c6657777774ccc1111176666665e22222288858885866566566666666606666666606666666000000a99a000000e22229a00a98ee8e
00700700444444446cc66cc65776c6741111111c76566565e2ee8ee8555555556656656666555550665555660555556600000a98e9a00000e2e89a0000a9ee8e
00077000444434436cc66cc65776c67411111cc176666665e2ee8ee858885888665665666656666866566566866665660000a988e29a0000e2e9a000000a988e
00077000444444446cc66cc65777777411ccc11176666665e28888885888588866566566665666686656656686666566000a9ee8e289a000e29a00000000a98e
00700700434444446cccccc654344444cc11111176566565e2ee8ee8588858886655556666555550665665660555556600a98ee8e2ee9a00e9a0000000000a9e
000000004444434466cccc6654444344111111cc76666665e2ee8ee855555555666666666666666066566566066666660a988888e2ee89a09a000000000000a9
000000004443444400000000544444441111cc1175555555e88888888858885806666660066666600008800006666660a9eeeeeee888889aa00000000000000a
566bb665555555555b6666b555555555777777774444444aa44444444444449aa9444444cccccccccccccccc0000000000000000000000000000000000000000
56bbbb65bb66bb665bb66bb566bb66bb7bbbbbb7434444a99a444444438849a44a948844ccccccccc0cc0cc00000000000000000000000000000000000000000
5bb66bb56bb66bb656bbbb656bb66bb67b7cc7b744444a9449a4444448889a4444a98884ccc7cccccc0cc00c0000000000000000000000000000000000000000
5b6666b566bb66bb566bb665bb66bb667bccccb74444a934449a44344889a434444a9884ccccccccccccccc00000000000000000000000000000000000000000
566bb66566bb66bb5b6666b5bb66bb667bccccb7344a98843889a444349a44443444a944cccccc7c0cc00ccc0000000000000000000000000000000000000000
56bbbb656bb66bb65bb66bb56bb66bb67b7cc7b744a9888448889a4449a4444444444a94ccccccccc00cc0cc0000000000000000000000000000000000000000
5bb66bb5bb66bb6656bbbb6566bb66bb7bbbbbb74a948844448849a49a444344444443a9c7ccccccccc0cc0c0000000000000000000000000000000000000000
5b6666b555555555566bb6655555555577777777a94444444444449aa44444444444444accccccccccc0cccc0000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000111111110000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000001555555d0000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000001511d11d0000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000001511d11d0000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000015dddddd0000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000001511d11d0000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000001511d11d0000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000001ddddddd0000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000448888440000000044bbbb4400000000441111440000000044cccc440000000044aaaa440000000044eeee4400000000447777440000000044555544
0000000048800884000000004bb00bb40000000041100114000000004cc00cc4000000004aa00aa4000000004ee00ee400000000477007740000000045500554
000000008805508800000000bb0550bb000000001105501100000000cc0550cc00000000aa0550aa00000000ee0550ee00000000770550770000000055055055
000000008050050800000000b050050b000000001050050100000000c050050c00000000a050050a00000000e050050e00000000705005070000000050500505
000000008050050800000000b050050b000000001050050100000000c050050c00000000a050050a00000000e050050e00000000705005070000000050500505
000000008805508800000000bb0550bb000000001105501100000000cc0550cc00000000aa0550aa00000000ee0550ee00000000770550770000000055055055
0000000048800884000000004bb00bb40000000041100114000000004cc00cc4000000004aa00aa4000000004ee00ee400000000477007740000000045500554
00000000448888440000000044bbbb4400000000441111440000000044cccc440000000044aaaa440000000044eeee4400000000447777440000000044555544
__gff__
0000010000000100010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
